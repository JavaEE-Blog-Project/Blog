<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>文章编辑</title>

    <link rel="stylesheet" th:href="@{/css/layui.css}">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
    <link rel="stylesheet" th:href="@{/lib/editor/css/editormd.min.css}">
</head>
<body>

<!--导航栏-->
<div th:insert="/admin/common/header::adminHeader"></div>

<div class="pd-huge">
    <div class="layui-container" th:if="${journal == null}">
        <form class="layui-form layui-form-pane">
            <div class="layui-form-item">
                <label class="layui-form-label">标题</label>
                <div class="layui-input-block">
                    <input autocomplete="off" class="layui-input"
                           lay-reqtext="标题不能为空" lay-verify="required"
                           name="title" placeholder="请输入" type="text">
                </div>
            </div>
            <div class="layui-form-item">
                <div id="md-content" style="z-index: 1 !important;">
                        <textarea lay-reqtext="内容不能为空"
                                  lay-verify="required" name="originalContent"
                                  style="display: none"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">封面引用</label>
                <div class="layui-input-block">
                    <input autocomplete="off" class="layui-input"
                           lay-reqtext="图片地址不能为空" lay-verify="requried|url"
                           name="image" placeholder="请输入地址" type="text">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">类型</label>
                <div class="layui-input-inline">
                    <select name="type">
                        <option value="PUBLIC">公开</option>
                        <option value="INTIMATE">私密</option>
                    </select>
                </div>
                <label class="layui-form-label">分类</label>
                <div class="layui-input-inline">
                    <select name="categoryId">
                        <option th:each="category : ${categories}"
                                th:text="${category.name}"
                                th:value="${category.id}"></option>
                    </select>
                </div>
                <div class="layui-input-inline">
                    <button class="layui-btn" lay-filter="post" lay-submit>立即提交</button>
                    <button class="layui-btn layui-btn-primary" type="reset">重置</button>
                </div>
            </div>
        </form>
    </div>
    <div class="layui-container" th:if="${journal != null}">
        <form class="layui-form layui-form-pane">
            <div class="layui-form-item">
                <label class="layui-form-label">标题</label>
                <div class="layui-input-block">
                    <input autocomplete="off" class="layui-input"
                           lay-reqtext="标题不能为空" lay-verify="required"
                           name="title" placeholder="请输入" th:value="${journal.title}" type="text">
                </div>
            </div>
            <div class="layui-form-item">
                <div id="md-content" style="z-index: 1 !important;">
                        <textarea lay-reqtext="内容不能为空"
                                  lay-verify="required" name="originalContent"
                                  style="display: none" th:text="${journal.originalContent}">
                        </textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">封面引用</label>
                <div class="layui-input-block">
                    <input autocomplete="off" class="layui-input"
                           lay-reqtext="图片地址不能为空" lay-verify="requried|url"
                           name="image" placeholder="请输入地址" th:value="${journal.image}" type="text">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">类型</label>
                <div class="layui-input-inline">
                    <select name="type">
                        <option value="PUBLIC">公开</option>
                        <option value="INTIMATE">私密</option>
                    </select>
                </div>
                <label class="layui-form-label">分类</label>
                <div class="layui-input-inline">
                    <select name="categoryId">
                        <option th:each="category : ${categories}"
                                th:text="${category.name}"
                                th:value="${category.id}"></option>
                    </select>
                </div>
                <div class="layui-input-inline">
                    <button class="layui-btn" lay-filter="edit-post" lay-submit>立即提交</button>
                    <button class="layui-btn layui-btn-primary" type="reset">重置</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script th:src="@{/layui.js}"></script>
<script th:src="@{/js/edit.js}"></script>
<script th:src="@{/js/admin.js}"></script>
<script th:src="@{/lib/editor/editormd.min.js}"></script>

</body>
</html>